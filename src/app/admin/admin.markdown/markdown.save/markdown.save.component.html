

<body>
<div class="container pt-5 pb-5">
  <h1 class="mt-5">Регистрация страницы</h1>
  <div class = "col-lg-7 col-md-offset-1 mb-5 mt-3">

    <mat-form-field  class="w-100">
      <mat-label>id</mat-label>
      <input matInput  placeholder="Введите id (уникальный)" [formControl]="form.id"
                [errorStateMatcher]="matcher">
      <mat-error *ngIf="form.id.hasError('required')">
        Обязательное поле
      </mat-error>
    </mat-form-field>

    <mat-form-field  class="w-100">
      <mat-label>Название</mat-label>
      <input matInput  placeholder="Введите название страницы" [formControl]="form.name"
                [errorStateMatcher]="matcher">
      <mat-error *ngIf="form.name.hasError('required')">
        Обязательное поле
      </mat-error>
    </mat-form-field>

    <mat-form-field  class="w-100">
      <mat-label>Приоритет</mat-label>
      <input matInput type="number"  placeholder="Введите приоритет страницы" [formControl]="form.priority"
             [errorStateMatcher]="matcher">
      <mat-error *ngIf="form.priority.hasError('required')">
        Обязательное поле
      </mat-error>
    </mat-form-field>


    <input  type="file"
            class=""
      (change)="onImageChange($event)"
      accept=".jpeg, .png"
    />

    <img
      *ngIf="form.localImageURL"
      [src]="form.localImageURL"
      class="mt-2 image-display"
      alt="...">
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2>Синтаксис</h2>
      <mat-form-field  class="w-100">
        <mat-label>Контент</mat-label>
        <textarea matInput  placeholder="Введите контент страницы" [formControl]="form.source"
                  rows="10"
                  [errorStateMatcher]="matcher"> </textarea>
        <mat-error *ngIf="form.source.hasError('required')">
          Обязательное поле
        </mat-error>
      </mat-form-field>
    </div>
    <div class="col-md-6">
      <h2>Предпросмотр</h2>
      <markdown
        [data]="form.source.value"

      >
      </markdown>
    </div>

  </div>
  <mat-divider class="mt-3"></mat-divider>
  <button mat-raised-button color="primary" class="mt-3 mat-small" (click)="onSave()">Сохранить</button>
  <button mat-stroked-button color="primary" class="mt-3 ms-2 mat-small" (click)="onCancel()">Отмена</button>
  <br>
</div>
</body>

